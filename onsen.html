<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Colf Manager - Onsen UI Native</title>
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>

  <style>
    /* Pills like native tabs */
    #dashboard-pills {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      margin: 16px 0;
    }
    #dashboard-pills .pill {
      flex: 1 1 30%;
      margin: 4px;
      padding: 10px 20px;
      border-radius: 20px;
      background-color: #206bc4;
      color: white;
      font-weight: 500;
      text-align: center;
      cursor: pointer;
      transition: 0.2s all;
    }
    #dashboard-pills .pill.active {
      background-color: #104a8a;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

<ons-navigator id="app-navigator" swipeable></ons-navigator>

<!-- Login Page Template -->
<template id="login-page">
  <ons-page>
    <ons-toolbar>
      <div class="center">Colf Manager</div>
    </ons-toolbar>
    <div style="padding: 16px;">
      <ons-card>
        <ons-input id="login-email" modifier="underbar" placeholder="Email" type="email" float></ons-input>
        <ons-input id="login-password" modifier="underbar" placeholder="Password" type="password" float style="margin-top:16px;"></ons-input>
        <div style="margin-top:24px;">
          <ons-button id="login-btn" modifier="large--cta">Login</ons-button>
        </div>
      </ons-card>
    </div>
  </ons-page>
</template>

<!-- Dashboard Page Template -->
<template id="dashboard-page">
  <ons-page>
    <ons-toolbar>
      <div class="center">Dashboard</div>
    </ons-toolbar>

    <!-- Pills -->
    <div id="dashboard-pills">
      <div class="pill active" data-target="home-page">ğŸ  Home</div>
      <div class="pill" data-target="colf-page">ğŸ‘©â€ğŸ¦± Colf</div>
      <div class="pill" data-target="datore-page">ğŸ‘¤ Datore</div>
      <div class="pill" data-target="cu-page">ğŸ“„ CU</div>
    </div>

    <div id="dashboard-content">
      <div id="home-page">
        <ons-card>
          <div class="card-header"><h3 class="card-title">Home</h3></div>
          <div class="card-body">
            Benvenuto ğŸ‘‹<br>
            Da qui puoi gestire colf, datori e generare CU.
          </div>
        </ons-card>
      </div>

      <div id="colf-page" style="display:none;">
        <ons-card>
          <div class="card-header"><h3 class="card-title">Registrazione Colf</h3></div>
          <div class="card-body">
            <form>
              <ons-input placeholder="Nome" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Cognome" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Codice Fiscale" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Telefono" float style="margin-top:8px;"></ons-input>
              <div style="margin-top:16px;"><ons-button modifier="large--cta">Salva</ons-button></div>
            </form>
          </div>
        </ons-card>
      </div>

      <div id="datore-page" style="display:none;">
        <ons-card>
          <div class="card-header"><h3 class="card-title">Registrazione Datore</h3></div>
          <div class="card-body">
            <form>
              <ons-input placeholder="Nome" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Cognome" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Codice Fiscale / P.IVA" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Indirizzo" float style="margin-top:8px;"></ons-input>
              <div style="margin-top:16px;"><ons-button modifier="large--cta">Salva</ons-button></div>
            </form>
          </div>
        </ons-card>
      </div>

      <div id="cu-page" style="display:none;">
        <ons-card>
          <div class="card-header"><h3 class="card-title">Generazione CU</h3></div>
          <div class="card-body">
            <form>
              <ons-input placeholder="Anno" type="number" value="2024" float style="margin-top:8px;"></ons-input>
              <ons-select style="margin-top:8px;"><option>Mario Rossi</option></ons-select>
              <ons-select style="margin-top:8px;"><option>Giulia Bianchi</option></ons-select>
              <ons-input placeholder="Compenso lordo" type="number" float style="margin-top:8px;"></ons-input>
              <ons-input placeholder="Ritenute" type="number" float style="margin-top:8px;"></ons-input>
              <div style="margin-top:16px;"><ons-button modifier="large--cta">Genera PDF</ons-button></div>
            </form>
          </div>
        </ons-card>
      </div>
    </div>

    <!-- Bottom toolbar with Home -->
    <ons-bottom-toolbar>
      <div class="center">
        <ons-button id="home-btn" modifier="quiet">ğŸ  Home</ons-button>
      </div>
    </ons-bottom-toolbar>

  </ons-page>
</template>

<script>
$(function() {
  const navigator = document.getElementById('app-navigator');

  // Push login page initially
  navigator.pushPage('login-page');

  // Use jQuery delegation for dynamically loaded content
  $(document).on('click', '#login-btn', function() {
    const email = $('#login-email').val();
    const pass = $('#login-password').val();
    if(email === 'name@example.com' && pass === 'password') {
      navigator.pushPage('dashboard-page', {animation: 'fade'});
    } else {
      ons.notification.alert('Credenziali non valide');
    }
  });

  // Pill clicks
  $(document).on('click', '#dashboard-pills .pill', function() {
    const target = $(this).data('target');
    $('#dashboard-content > div').hide();
    $('#' + target).fadeIn(200);
    $('#dashboard-pills .pill').removeClass('active');
    $(this).addClass('active');
  });

  // Home button
  $(document).on('click', '#home-btn', function() {
    $('#dashboard-content > div').hide();
    $('#home-page').fadeIn(200);
    $('#dashboard-pills .pill').removeClass('active');
    $('#dashboard-pills .pill[data-target="home-page"]').addClass('active');
  });
});
</script>
</body>
</html>
